<odoo>
  <data>
    <record id="website_request_form" model="website.page">
      <field name="url">request_form</field>
      <field name="is_published">True</field>
      <field name="website_indexed" eval="True" />
      <field name="name">Ticketing Online</field>
      <field name="type">qweb</field>
      <field name="key">website_request_form.website_request_form</field>
      <field name="arch" type="xml">
        <t t-name="website.website_request_form">
          <t t-call="website.layout">
            <div id="wrap" class="oe_structure oe_empty">
              <!-- <section class="s_text_image pt32 pb32 o_colored_level undefined o_cc o_cc2" data-snippet="s_image_text" data-name="Image - Text" style="">
                        <div class="container-fluid">
                          <img src="/website_request_form/static/src/images/cover_red.svg" class="img img-fluid mx-auto" alt="" loading="lazy" data-original-title="" title="" aria-describedby="tooltip665082" data-original-id="112398" data-original-src="/web/image/112398-a4498f26/undraw_meeting_re_i53h.svg" data-mimetype="image/svg+xml" data-resize-width="690"/>
                        </div>
                        <section class="s_picture pt24 oe_custom_bg" id="section_search">
                          <form action="/status_request" method="POST" role="form">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"></input>
                            <div class="container">
                              <div class="row s_nb_column_fixed" style="margin: auto; text-align:center;">
                                <div class="col-lg-12 s_title pt16">
                                  <h3 class="home-title" style="text-align: center; "><b>Check Status Request Anda</b></h3>
                                </div>
                                <div class="form form-field col-lg-12 pb32">
                                  <form class="text-center">
                                    <div class="col-lg-12 s_title pt16 pb16">
                                      <small id="identityHelp" class="form-text text-muted">Input nomor request anda, lalu tekan 'enter' untuk mencari</small>
                                      <input name="search" t-att-value="search" class="form-control mr-sm-2 text-center" type="search" placeholder="ex : RF/MML/99/99/99999" aria-label="Search"/> 
                                    </div>
                                  </form>
                                </div>
                              </div>
                            </div>
                          </form>
                        </section> -->
              <!-- <div class="custom-shape-divider-bottom-1637546137">
                          <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                              <path d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z" class="shape-fill"></path>
                          </svg>
                      </div> -->
              <!-- </section> -->
              <!-- <section class="s_banner o_colored_level parallax pt112 pb256" data-scroll-background-ratio="2.85" data-snippet="s_banner" data-name="Banner" style="" data-original-id="112374" data-original-src="/web/image/112374-b3e7de63/22149-test.jpg" data-mimetype="image/jpeg" data-resize-width="1920">
                        <span class="s_parallax_bg oe_img_bg" style="top: -205.77px; bottom: -205.77px; transform: translateY(-49px); background-image: url(&quot;/web/image/112375-66f2692d/22149-test.jpg&quot;);"/>
                        <div class="container">
                          <div class="row s_nb_column_fixed"> 
                            </div>
                        </div>
                        <div class="custom-shape-divider-bottom-1637546137">
                          <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                              <path d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z" class="shape-fill"></path>
                          </svg>
                      </div>
                      </section> -->
              <div class="s_card card w-75 h-50 mx-auto text-white bg-primary card-custom" data-snippet="s_card" data-name="Card" style="">
                <div class="card-body" style="background-color: #61b5e1e6 !important;">
                  <section class="s_text_image s_cover pt32 pb32 o_colored_level" data-snippet="s_text_image" data-name="Text - Image">
                    <div class="container">
                      <div class="row align-items-center justify-content-center mx-auto mb-1">
                        <div class="col-lg-6 custom_width pt16 pb16 o_colored_level">
                          <lord-icon trigger="loop" scale="500" src="/website_request_form/static/src/images/search-files.json"></lord-icon>
                        </div>
                        <div class="col-lg-6 custom_width pt16 pb16 o_colored_level" style="">
                          <section class="s_picture pt24 oe_custom_bg" id="section_search">
                            <form action="/status_request" method="POST" role="form">
                              <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"></input>
                              <div class="container">
                                <div class="row s_nb_column_fixed" style="margin: auto; text-align:center;">
                                  <div class="col-lg-12 s_title pt16">
                                    <h3 class="home-title" style="text-align: center; ">
                                      <b>Check Status Request Anda</b>
                                    </h3>
                                  </div>
                                  <div class="form form-field col-lg-12 pb32">
                                    <form class="text-center">
                                      <div class="col-lg-12 s_title pt16 pb16">
                                        <small id="identityHelp" class="form-text text-muted">Input nomor request anda, lalu tekan 'enter' untuk mencari</small>
                                        <input name="search" t-att-value="search" class="form-control mr-sm-2 text-center" type="search" placeholder="ex : RF/MML/99/99/99999" aria-label="Search" />
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </section>
                        </div>
                      </div>
                    </div>
                  </section>

                </div>
              </div>
              <section class="s_cover">
                <a class="o_scroll_button rounded-circle align-items-center justify-content-center mx-auto mb-1" href="#" title="Scroll down to next section" style="background-color: rgb(255, 255, 255) !important;">
                  <i class="fa fa-angle-down fa-3x" />
                </a>
              </section>

              <section class="s_title pt32 pb32 o_colored_level" data-vcss="001" data-snippet="s_title" data-name="Title" style="">
                <div class="s_allow_columns container-fluid">
                  <h1 style="text-align: left;">
                    <div style="text-align: center;">
                      <span>
                        <h3>
                          <b>Formulir Job / Access Request</b>
                        </h3>
                      </span>
                    </div>
                    <div style="text-align: center;">
                      <span>
                        <h5>Jika anda memiliki Job / Access request, silahkan melakukan pengisian formulir terlebih dahulu</h5>
                      </span>
                    </div>
                  </h1>
                </div>
              </section>
              <div id="nextSection" class="s_card card w-75 mx-auto" data-snippet="s_card" data-name="Card" style="background-color: rgb(226, 226, 226) !important;">
                <h4 class="card-header">Ticketing Online</h4>
                <div class="card-body">
                  <!-- <p class="card-text">Jika anda sudah mengisi formulir sebelumnya, lakukan pengecekan <b>Request</b> anda dengan tombol berikut:</p>
                          <button class="btn btn-outline-info" onclick="showSearch()">Cek Request</button>
                          <section class="s_picture pt24 pb24 oe_custom_bg" id="section_search" style="display:none;">
                            <form action="/status_request" method="POST" role="form">
                              <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"></input>
                              <div class="container">
                                <div class="row s_nb_column_fixed" style="margin: auto; text-align:center;">
                                  <div class="col-lg-12 s_title pt16">
                                    <h3 class="home-title" style="text-align: center; ">Check Status Request Anda</h3>
                                  </div>
                                  <div class="form form-field col-lg-12 pb32">
                                    <form class="text-center">
                                      <div class="col-lg-12 s_title pt16 pb16">
                                        <small id="identityHelp" class="form-text text-muted">Input nomor request anda, lalu tekan 'enter' untuk mencari</small>
                                        <input name="search" t-att-value="search" class="form-control mr-sm-2 text-center" type="search" placeholder="ex : RF/MML/99/99/99999" aria-label="Search"/> 
                                      </div>
                                    </form>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </section> -->

                  <p class="card-text">Silahkan cari NIK dan tekan "enter" untuk pengisian otomatis :</p>
                  <form onsubmit="return searchNik()" method="POST" role="form">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"></input>
                    <div class="container">
                      <div class="row s_nb_column_fixed" style="margin: auto; text-align:center;">
                        <div class="form form-field col-lg-12 pb32">
                            <div class="col-lg-12 s_title pt16 pb16">
                              <input type="text" class="form-control" name="search_nik" placeholder="search..." id="search_nik" />
                              <p style="display: none; color: red;" id="info_search"></p>
                            </div>
                        </div>
                      </div>
                    </div>
                  </form>
                  
                  <p class="card-text">Jika anda ingin melakukan request, Silahkan isi formulir dibawah ini :</p>
                  <section class="s_website_form pt16 pb16 o_colored_level" data-vcss="001" data-snippet="s_website_form" data-name="Form" style="">
                    <div class="container-fluid">
                      <form id="main_form" action="/create_website_form/" method="post" enctype="multipart/form-data" data-mark="*" data-success-mode="redirect" data-success-page="/thank-you" data-model_name="eps.request.form" class="o_mark_required">
                        <div class="row s_col_no_bgcolor s_website_form_rows">
                          <div class="form-group s_website_form_field col-12 s_website_form_custom s_website_form_required" data-type="many2one" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                              <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="company">
                                <span class="s_website_form_label_content">Company</span>
                                <span class="s_website_form_mark"> *</span>
                              </label>
                              <div class="col-sm">
                                <select class="form-control s_website_form_input select_field input-company" name="company_id" id="company" style="" required="" onchange="changeByCompany()">
                                  <option value="">(Silahkan Pilih)</option>
                                  <t t-foreach="company" t-as="company">
                                    <option t-attf-value="#{company.id}">
                                      <t t-esc="company.name" />
                                    </option>
                                  </t>
                                </select>
                              </div>
                            </div>
                          </div>
                          <div class="form-group s_website_form_field col-12 s_website_form_custom s_website_form_required" data-type="many2one" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                              <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="branch">
                                <span class="s_website_form_label_content">Branch</span>
                                <span class="s_website_form_mark"> *</span>
                              </label>
                              <div class="col-sm">
                                <select class="form-control s_website_form_input select_field" name="branch_id" id="branch" style="" required="true">
                                  <option value="">(Silahkan Pilih)</option>
                                </select>
                              </div>
                            </div>
                          </div>
                          <div class="form-group s_website_form_field col-12 s_website_form_custom s_website_form_model_required" data-type="many2one" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                              <label class="col-form-label col-sm-auto s_website_form_label " style="width: 200px" for="toog3woqk5n">
                                <span class="s_website_form_label_content">Departement</span>
                                <span class="s_website_form_mark"> *</span>
                              </label>
                              <div class="col-sm">
                                <select class="form-control s_website_form_input select_field" name="department_id" id="department" style="" required="true">
                                  <option value="">(Silahkan Pilih)</option>
                                </select>
                              </div>
                            </div>
                          </div>
                          <div class="form-group s_website_form_field col-12  s_website_form_model_required  " data-type="char" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                              <label class="col-form-label col-sm-auto s_website_form_label " style="width: 200px" for="7b7qknsi30q">
                                <span class="s_website_form_label_content">Nama Pegawai</span>
                                <span class="s_website_form_mark">       *</span>
                              </label>
                              <div class="col-sm">
                                <input type="text" class="form-control s_website_form_input" name="name_pegawai" required="true" placeholder="Robert Jr" id="7b7qknsi30q" />
                              </div>
                            </div>
                          </div>
                          <div class="col-12 form-group s_website_form_field s_website_form_model_required" data-type="char" data-name="Field">
                            <div class="row s_col_no_bgcolor s_col_no_resize">
                              <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="2hvgthz7mmr">
                                <span class="s_website_form_label_content">NIK</span>
                                <span class="s_website_form_mark"> *</span>
                              </label>
                              <div class="col-sm">
                                <input type="text" class="form-control s_website_form_input" name="nik" required="true" placeholder="DMMK0000"  id="2hvgthz7mmr" />
                              </div>
                            </div>
                          </div>
                          <div class="form-group s_website_form_field col-12  s_website_form_model_required  " data-type="email" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                              <label class="col-form-label col-sm-auto s_website_form_label " style="width: 200px" for="8kk85gkl467">
                                <span class="s_website_form_label_content">Email</span>
                                <span class="s_website_form_mark"> *</span>
                              </label>
                              <div class="col-sm">
                                <input type="email" class="form-control s_website_form_input" name="email" placeholder="xxx@mail.com" required="true" id="8kk85gkl467" />
                              </div>
                            </div>
                          </div>
                          <div class="form-group s_website_form_field col-12 s_website_form_custom s_website_form_required" data-type="many2one" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                              <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="job_id">
                                <span class="s_website_form_label_content">Job</span>
                                <span class="s_website_form_mark"> *</span>
                              </label>
                              <div class="col-sm">
                                <select class="form-control s_website_form_input select_field" name="job_title" id="job_id" style="" required="1">
                                  <option value="">(Silahkan Pilih)</option>
                                  <t t-foreach="job" t-as="job">
                                    <option t-attf-value="#{job.id}">
                                      <t t-esc="job.name" />
                                    </option>
                                  </t>
                                </select>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div id="request_tbl" class="">
                          <div id="wrap" class="oe_structure oe_empty">
                            <div class="s_hr text-left pt32 pb18" data-snippet="s_hr" data-name="Separator">
                              <hr class="w-100 mx-auto" style="border-top-style: double !important; border-top-width: 5px !important; margin-bottom: 25px;" />
                            </div>
                          </div>
                          <p id="number_1" style="text-align:left;  font-weight: bold;">Nomor: 1</p>
                          <div>
                            <div class="w3-row">
                              <label class="w3-col m1 s_website_form_label s_website_form_required" style="width: 200px" for="2hvgthz7mmr">
                                <span class="s_website_form_label_content">Request</span>
                                <span class="s_website_form_mark"> *</span>
                              </label>
                              <button type="button" class="btn custom-btn-primary rounded-circle buttonx custom-btn-close" style="font-size: 0.75rem; display:none;" onclick="deleteRow(this.parentElement.parentElement)">X</button>
                              <div class="w3-col m1 w3-container m4 l3">
                                <select id="requestform_id_1" name="request_line_ids" class="form-control select_fields s_website_form_input input-types" placeholder="" required="true">
                                  <option value="">Pilih Tipe Request</option>
                                </select>
                              </div>
                              <div class="w3-col m1 w3-container m4 l6 custom-row">
                                <select id="request_id_1" name="request_sistem_ids" class="form-control s_website_form_input " placeholder="" required="1" style="display: none">
                                  <option value="">(Silahkan Pilih)</option>
                                </select>
                              </div>
                            </div>
                            <div class="form-group s_website_form_field col-12 s_website_form_custom s_website_form_required" data-name="Field" style="padding-top: 15px;">
                              <div class="row s_col_no_resize s_col_no_bgcolor">
                                <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="company">
                                  <span class="s_website_form_label_content"></span>
                                  <span class="s_website_form_mark"></span>
                                </label>
                                <div class="col-sm">
                                  <textarea class="text-area form-control s_website_form_input s_website_form_model_required" name="request_line_keterangan[]" placeholder="Keterangan" required="1"></textarea>
                                </div>
                              </div>
                            </div>
                            <div class="form-group s_website_form_field s_website_form_custom" data-name="Field" style="padding-top: 15px;">
                              <div class="row s_col_no_resize s_col_no_bgcolor">
                                <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="company">
                                  <span class="s_website_form_label_content">Lampiran</span>
                                  <span class="s_website_form_mark"></span>
                                </label>
                                <div class="col-sm-8" style="padding-left: 30px;">
                                  <input type="file" class="form-control s_website_form_input" name="attachment" />
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-lg-12 s_btn pt4 pb48 text-left" data-name="Buttons">
                          <button onclick="addRow('request_tbl')" class="btn btn-info rounded-circle" type="button">Tambah</button>
                        </div>
                        <div>
                          <div class="col-12 form-group s_website_form_submit pb0 text-center s_website_form_no_submit_label" data-name="Submit Button">
                            <div style="width: 200px;" class="s_website_form_label" />
                            <a href="#" role="button" class="btn btn-lg btn-primary s_website_form_send" data-original-title="" title="" aria-describedby="tooltip181092">Submit
                                    </a>
                            <span id="s_website_form_result" />
                            <!-- <button id="submit_id" class="btn btn-lg btn-primary s_website_form_send">Test Submit</button> -->
                          </div>


                        </div>
                      </form>
                      <!-- <div class="col-12 form-group s_website_form_submit pb0 text-center s_website_form_no_submit_label">
                                <button onclick="functionDebug()" id="submit_id" class="btn btn-lg btn-primary s_website_form_send">Test Submit</button>
                              </div> -->
                    </div>
                  </section>
                </div>
              </div>
            </div>
            <!-- TODO: rubah tipe request dan tambahkan input sistem jika request tersebut berkaitan dengan sistem -->
            <div hidden="">
              <select id="requestform_id" name="requestform_id" class="form-control s_website_form_input input-types" placeholder="" required="true">
                <option value="">Pilih Tipe Request</option>
                <t t-foreach="requestjrf" t-as="requestjrf">
                  <option t-attf-value="#{requestjrf.id}-#{requestjrf.type_form_id.name}-#{requestjrf.company_id.id}">
                    <t t-esc="requestjrf.name" />
                  </option>
                </t>
              </select>
              <select class="form-control s_website_form_input s_website_form_required_custom" id="tipe_sistem" placeholder="Sistem" required="true">
                <t t-foreach="tipe_sistem" t-as="tipe_sistem">
                  <option t-attf-value="#{tipe_sistem.id}">
                    <t t-esc="tipe_sistem.name" />
                    -
                    <t t-esc="tipe_sistem.company_id.name" />
                  </option>
                </t>
              </select>
              <select class="form-control s_website_form_input select_field" name="Branch" id="branchdropdown" style="" required="true">
                <option value="">(Silahkan Pilih)</option>
                <t t-foreach="branch" t-as="branch">
                  <option t-attf-value="#{branch.company_id.id}-#{branch.id}">
                    <t t-esc="branch.name" />
                  </option>
                </t>
              </select>
              <select class="form-control s_website_form_input select_field" name="Department" id="departmentdropdown" style="" required="true">
                <option value="">(Silahkan Pilih)</option>
                <t t-foreach="department" t-as="department">
                  <option t-attf-value="#{department.company_id.id}-#{department.id}">
                    <t t-esc="department.name" />
                  </option>
                </t>
              </select>
            </div>
          </t>
        </t>
      </field>
    </record>
  </data>
</odoo>